# MySQL R2DBC Configuration
spring.r2dbc.url=r2dbc:mysql://localhost:3306/movieBooking
spring.r2dbc.username=root
spring.r2dbc.password=root@123
spring.r2dbc.pool.initial-size=5
spring.r2dbc.pool.max-size=10

# Logging Configuration
logging.level.com.spring5.movieservice.domain.controller.AuthServiceImpl=DEBUG

# MySQL JDBC Configuration (for compatibility)
spring.datasource.url=jdbc:mysql://localhost:3306/movieBooking?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root@123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Actuator health endpoint
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true

# Disable default Spring Security for public APIs (WebFlux)
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration,\
org.springframework.boot.actuate.autoconfigure.security.reactive.ReactiveManagementWebSecurityAutoConfiguration

# Load Balancer Configuration
spring.cloud.loadbalancer.enabled=true
spring.cloud.loadbalancer.cache.enabled=true
spring.cloud.loadbalancer.cache.ttl=35s

# Recommendation Service URL (for reference, LoadBalancer uses service name)
recommendation.service.url=${RECOMMENDATION_SERVICE_URL:http://recommendation-service:8083}

# Ticket Booking Service URL (for reference, LoadBalancer uses service name)
ticket.booking.service.url=${TICKET_BOOKING_SERVICE_URL:http://ticket-booking-service:8085}
